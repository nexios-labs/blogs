---
import Layout from '@layouts/layout.astro'
import Seo from '@components/seo.astro'
import { getCollection } from 'astro:content'
import SkipNavContent from '@components/a11y/skip-nav-content.astro'
import { defaultDateFormat, sortAsc } from '@utils'
import Spacer from '@components/spacer.astro'
import Link from '@components/link.astro'

const posts = sortAsc(await getCollection('blog'))
---

<Layout>
	<Seo slot="seo" title="Blog" description="Stay up to date with the latest Nexios framework updates, tutorials, best practices, and community stories." />
	<SkipNavContent>
		<h1 class="sr-only">Blog</h1>
		<div class="mb-12">
			<h2 class="font-medium text-2xl md:text-3xl lg:text-4xl text-highlight mb-4">Nexios Blog</h2>
			<p class="text-subtle text-lg md:text-xl max-w-3xl">
				Stay up to date with the latest Nexios framework updates, tutorials, best practices, and community stories. 
				Learn how to build modern Python web applications with our comprehensive guides and real-world examples.
			</p>
		</div>
		<div class="flex gap-10 flex-col">
			{
				posts.map(({ data: post }) => (
					<div>
						<Link variant="highlight" class="font-medium" href={`/${post.slug}/`}>
							{post.title}
						</Link>
						<Spacer axis="vertical" size={2} />
						<div class="text-faded">
							{defaultDateFormat(post.date)} â€” {post.tags.join(', ')}
						</div>
						<Spacer axis="vertical" size={4} />
						<div class="text-subtle text-md md:text-lg">{post.description}</div>
					</div>
				))
			}
		</div>
	</SkipNavContent>
</Layout>
